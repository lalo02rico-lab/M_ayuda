@startuml
' =====================================================
'  DIAGRAMA MVC – ARQUITECTURA REAL DEL SISTEMA
'  MESA DE AYUDA INSTITUCIONAL
' =====================================================

skinparam backgroundColor #FFFFFF
skinparam classBorderColor #B48954
skinparam classBackgroundColor #F9F5F3
skinparam arrowColor #7B1E3D

' =========================
' CONTROLLER
' =========================
package Controller {

  class HomeController
  class LoginController
  class AdminController
  class TecnicoController
  class SoporteController
  class DirectorioController
  class AdminServiciosController
}

' =========================
' DTO
' =========================
package DTO {
  class AuthRequest
}

' =========================
' REPOSITORY
' =========================
package Repository {

  interface UsuarioRepository
  interface TicketRepository
  interface PreSolicitudRepository
  interface CatDepartamentoRepository
  interface CatEstadoTicketRepository
  interface CatTipoSolicitudRepository
  interface DirectorioRepository
  interface CorreoRepository
  interface LicenciaRepository
  interface ExtencionRepository
  interface InventarioBienRepository
  interface VwResguardoRepository
}

' =========================
' MODEL / ENTITY
' =========================
package Model {

  class Usuario
  class Rol
  class Ticket
  class PreSolicitud
  class CatDepartamento
  class CatEstadoTicket
  class CatTipoSolicitud
  class Directorio
  class Correo
  class Licencia
  class Extencion
  class InventarioBien
  class VwResguardo
}

' =========================
' RELACIONES CONTROLLER → DTO / REPOSITORY
' =========================
LoginController --> AuthRequest
LoginController --> UsuarioRepository

HomeController --> UsuarioRepository
AdminController --> UsuarioRepository

SoporteController --> TicketRepository
SoporteController --> PreSolicitudRepository
SoporteController --> CatTipoSolicitudRepository
SoporteController --> CatDepartamentoRepository

TecnicoController --> TicketRepository
TecnicoController --> CatEstadoTicketRepository

DirectorioController --> DirectorioRepository

AdminServiciosController --> CorreoRepository
AdminServiciosController --> LicenciaRepository
AdminServiciosController --> ExtencionRepository
AdminServiciosController --> InventarioBienRepository
AdminServiciosController --> VwResguardoRepository

' =========================
' RELACIONES REPOSITORY → ENTITY
' =========================
UsuarioRepository --> Usuario
TicketRepository --> Ticket
PreSolicitudRepository --> PreSolicitud
CatDepartamentoRepository --> CatDepartamento
CatEstadoTicketRepository --> CatEstadoTicket
CatTipoSolicitudRepository --> CatTipoSolicitud
DirectorioRepository --> Directorio
CorreoRepository --> Correo
LicenciaRepository --> Licencia
ExtencionRepository --> Extencion
InventarioBienRepository --> InventarioBien
VwResguardoRepository --> VwResguardo

@enduml
